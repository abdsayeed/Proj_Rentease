
    <div class="auth-container">
      <app-card [hasFooter]="false">
        <div header>
          <h1 class="auth-title">Create Account</h1>
          <p class="auth-subtitle">Join RentEase today</p>
        </div>

        <div body>
          <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
            <!-- Name Fields -->
            <div class="form-row">
              <div class="form-group">
                <label for="first_name">First Name</label>
                <input
                  id="first_name"
                  type="text"
                  formControlName="first_name"
                  placeholder="John"
                  [class.error]="firstNameControl?.invalid && firstNameControl?.touched">
                @if (firstNameControl?.invalid && firstNameControl?.touched) {
                  <span class="error-message">First name is required</span>
                }
              </div>

              <div class="form-group">
                <label for="last_name">Last Name</label>
                <input
                  id="last_name"
                  type="text"
                  formControlName="last_name"
                  placeholder="Doe"
                  [class.error]="lastNameControl?.invalid && lastNameControl?.touched">
                @if (lastNameControl?.invalid && lastNameControl?.touched) {
                  <span class="error-message">Last name is required</span>
                }
              </div>
            </div>

            <!-- Email Field -->
            <div class="form-group">
              <label for="email">Email</label>
              <input
                id="email"
                type="email"
                formControlName="email"
                placeholder="john.doe@example.com"
                [class.error]="emailControl?.invalid && emailControl?.touched">
              @if (emailControl?.invalid && emailControl?.touched) {
                <span class="error-message">
                  @if (emailControl?.hasError('required')) {
                    Email is required
                  }
                  @if (emailControl?.hasError('email')) {
                    Invalid email format
                  }
                </span>
              }
            </div>

            <!-- Phone Field -->
            <div class="form-group">
              <label for="phone">Phone (Optional)</label>
              <input
                id="phone"
                type="tel"
                formControlName="phone"
                placeholder="+1234567890">
            </div>

            <!-- Role Selection -->
            <div class="form-group">
              <label>Account Type</label>
              <div class="role-buttons">
                <button
                  type="button"
                  class="role-btn"
                  [class.active]="registerForm.get('role')?.value === UserRole.CUSTOMER"
                  (click)="selectRole(UserRole.CUSTOMER)">
                  <span class="role-icon">üë§</span>
                  <span class="role-label">Customer</span>
                  <span class="role-desc">Looking to rent</span>
                </button>
                <button
                  type="button"
                  class="role-btn"
                  [class.active]="registerForm.get('role')?.value === UserRole.AGENT"
                  (click)="selectRole(UserRole.AGENT)">
                  <span class="role-icon">üè¢</span>
                  <span class="role-label">Agent</span>
                  <span class="role-desc">List properties</span>
                </button>
              </div>
            </div>

            <!-- Password Fields -->
            <div class="form-group">
              <label for="password">Password</label>
              <input
                id="password"
                type="password"
                formControlName="password"
                placeholder="Minimum 6 characters"
                [class.error]="passwordControl?.invalid && passwordControl?.touched">
              @if (passwordControl?.invalid && passwordControl?.touched) {
                <span class="error-message">
                  Password must be at least 6 characters
                </span>
              }
            </div>

            <div class="form-group">
              <label for="confirm_password">Confirm Password</label>
              <input
                id="confirm_password"
                type="password"
                formControlName="confirm_password"
                placeholder="Re-enter password"
                [class.error]="confirmPasswordControl?.invalid && confirmPasswordControl?.touched">
              @if (registerForm.hasError('passwordMismatch') && confirmPasswordControl?.touched) {
                <span class="error-message">Passwords do not match</span>
              }
            </div>

            <!-- Error Message -->
            @if (errorMessage()) {
              <div class="alert alert-error">
                {{ errorMessage() }}
              </div>
            }

            <!-- Submit Button -->
            <app-button
              type="submit"
              variant="primary"
              size="lg"
              [loading]="loading()"
              [disabled]="registerForm.invalid"
              class="submit-btn">
              Create Account
            </app-button>

            <!-- Login Link -->
            <p class="auth-link">
              Already have an account?
              <a routerLink="/auth/login">Login here</a>
            </p>
          </form>
        </div>
      </app-card>
    </div>
  